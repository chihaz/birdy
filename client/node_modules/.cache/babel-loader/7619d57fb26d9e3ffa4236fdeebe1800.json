{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Chihez\\\\Desktop\\\\birdy\\\\client\\\\src\\\\pages\\\\register\\\\Register.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [text, setText] = useState(\"\");\n  /* avant d'envoyer les données on doit tout d'abord verifier \n  que les mots de passes inserer sont bien identique */\n\n  const handleClick = async e => {\n    e.preventDefault();\n    /* dans le cas ou tout les elements sont bien\n    inserer il faudra cree une variable user qui possedera les attributs cree  */\n\n    const user = {\n      username: username.current.value,\n      email: email.current.value,\n      password: password.current.value\n    };\n    /* puis on utilise un post pour inscrire l'utilisateur puis on utilise \n    le hook history qui  nous permet de rediriger l'utilisateur vers la page de login */\n\n    try {\n      await axios.post(\"/auth/register\", user);\n      history.push(\"/login\");\n    } catch (err) {\n      if (err.response.status == 402) {\n        setText(\"Les mots de passe sont differents\");\n        passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n      } else if (err.response.status == 401) {\n        setText(\"Login deja pris\");\n      } else {\n        setText(\"Erreur interne\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-model\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-login100\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrap-login100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: PF + \"birdyRBG.png\",\n              className: \"logo\",\n              alt: \"Birdy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleClick,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"login100-form-title\",\n              children: \"Inscription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": \"Valid email is required: ex@abc.xyz\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input100\",\n                type: \"email\",\n                ref: email,\n                name: \"email\",\n                placeholder: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input100\",\n                type: \"text\",\n                ref: username,\n                name: \"Login\",\n                placeholder: \"@Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": \"Saisir un mot de passe\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input100\",\n                type: \"password\",\n                ref: password,\n                name: \"pass\",\n                placeholder: \"Mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"wrap-input100 validate-input\",\n              \"data-validate\": \"Saisir un mot de passe\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input100\",\n                type: \"password\",\n                ref: passwordAgain,\n                name: \"pass\",\n                placeholder: \"Confirmer le mot de passe\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"focus-input100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"error-message\",\n                children: text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-login100-form-btn\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"login100-form-btn\",\n                type: \"submit\",\n                children: \"Incription\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"hSQvVQPMJ7jNd+UlXyDwzt5cVSA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/Chihez/Desktop/birdy/client/src/pages/register/Register.jsx"],"names":["axios","useRef","useState","useHistory","Register","username","email","password","passwordAgain","history","PF","process","env","REACT_APP_PUBLIC_FOLDER","text","setText","handleClick","e","preventDefault","user","current","value","post","push","err","response","status","setCustomValidity"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useRef ,useState} from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [text, setText]=useState(\"\");\n\n  /* avant d'envoyer les données on doit tout d'abord verifier \n  que les mots de passes inserer sont bien identique */\n  const handleClick = async (e) => {\n    e.preventDefault();\n\n    \n      /* dans le cas ou tout les elements sont bien\n      inserer il faudra cree une variable user qui possedera les attributs cree  */\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      /* puis on utilise un post pour inscrire l'utilisateur puis on utilise \n      le hook history qui  nous permet de rediriger l'utilisateur vers la page de login */\n      try {\n        await axios.post(\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        if(err.response.status==402){\n          setText(\"Les mots de passe sont differents\");\n          passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n        }else if(err.response.status==401){\n          setText(\"Login deja pris\");\n        }else{\n          setText(\"Erreur interne\"); \n        }\n      }\n    \n  };\n\n  return (\n    <div className='bg-model'>\n        \n      <div>\n        <div className=\"container-login100\">\n          <div className=\"wrap-login100\">\n            <div>\n              <img src={PF+\"birdyRBG.png\"} className=\"logo\" alt=\"Birdy\"/>\n            </div>\n\n            <form onSubmit={handleClick}>\n              <span className=\"login100-form-title\">\n                Inscription\n              </span>\n\n              <div className=\"wrap-input100 validate-input\" data-validate = \"Valid email is required: ex@abc.xyz\">\n                <input className=\"input100\" type=\"email\" ref={email} name=\"email\" placeholder=\"Email\"/>\n                <span className=\"focus-input100\"></span>\n               \n              </div>\n              \n              <div className=\"wrap-input100 validate-input\">\n                <input className=\"input100\" type=\"text\" ref={username} name=\"Login\" placeholder=\"@Login\"/>\n                <span className=\"focus-input100\"></span>\n               \n              </div>\n\n              <div className=\"wrap-input100 validate-input\" data-validate = \"Saisir un mot de passe\">\n                <input className=\"input100\" type=\"password\" ref={password} name=\"pass\" placeholder=\"Mot de passe\"/>\n                <span className=\"focus-input100\"></span>\n                \n              </div>\n              <div className=\"wrap-input100 validate-input\" data-validate = \"Saisir un mot de passe\">\n                <input className=\"input100\" type=\"password\" ref={passwordAgain} name=\"pass\" placeholder=\"Confirmer le mot de passe\"/>\n                <span className=\"focus-input100\"></span>\n                \n              </div>\n              <div>\n                <p className=\"error-message\">{text}</p>\n              </div>\n              <div className=\"container-login100-form-btn\">\n                <button className=\"login100-form-btn\" type=\"submit\">\n                  Incription\n                </button>\n              </div>\n\n             \n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}